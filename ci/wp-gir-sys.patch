diff --git a/sys/generate/src/lib.rs b/sys/generate/src/lib.rs
index b5e84cbe..c7049504 100644
--- a/sys/generate/src/lib.rs
+++ b/sys/generate/src/lib.rs
@@ -3,17 +3,11 @@
 
 #![allow(non_camel_case_types, non_upper_case_globals, non_snake_case)]
 #![allow(clippy::approx_constant, clippy::type_complexity, clippy::unreadable_literal, clippy::upper_case_acronyms)]
+#![cfg_attr(docsrs, feature(doc_cfg))]
 
-use pipewire::{pw_core, pw_context, pw_permission, pw_proxy, pw_properties, pw_impl_node};
-use libspa::{spa_dict, spa_pod, spa_type_info, spa_log};
-use crate::WpSpaType;
-
-#[cfg(feature = "v0_4_8")]
-use libspa::spa_json;
-
 use glib_sys as glib;
 use gobject_sys as gobject;
 use gio_sys as gio;
 
 #[allow(unused_imports)]
 use libc::{c_int, c_char, c_uchar, c_float, c_uint, c_double,
diff --git a/sys/generate/tests/abi.rs b/sys/generate/tests/abi.rs
index 6e5bae11..2cdc3864 100644
--- a/sys/generate/tests/abi.rs
+++ b/sys/generate/tests/abi.rs
@@ -1,6 +1,8 @@
 // This file was generated by gir (https://github.com/gtk-rs/gir)
 // DO NOT EDIT
 
+#![cfg(unix)]
+
 use wp_sys::*;
 use std::mem::{align_of, size_of};
 use std::env;
